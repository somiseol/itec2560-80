<!DOCTYPE html>
<html>
<head>
    <title>Hello Vue</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
    
    <div id="app">
        <h1>Hello Vue</h1>
        <p>
            {{ messageWithExclamationPoints }} <!--bind data-->
        </p>

        <button v-on:click="addExclamation">Add !</button>
        <button v-on:click="clearExclamations">Clear !</button>
    </div>

    <script>

        const { createApp, ref, computed } = Vue 

        createApp({
            setup() { // return object containing reactive data

                const originalMessage = ref('hi')
                const numberOfExclamationPoints = ref(0)

                function addExclamation()
                {
                    if (numberOfExclamationPoints.value < 10)
                    {
                        numberOfExclamationPoints.value++
                    } else
                    {
                        alert("Max number of exclamation points")
                    }
                }

                function clearExclamations()
                {
                    numberOfExclamationPoints.value = 0
                }

                const messageWithExclamationPoints = computed( function()
                {
                    let computedMessage = originalMessage.value

                    for (let x = 0; x < numberOfExclamationPoints.value; x++)
                    {
                        computedMessage = computedMessage + "!"
                    }
                    return computedMessage
                })

                return {
                    // reactive data
                    originalMessage,
                    numberOfExclamationPoints,

                    messageWithExclamationPoints,

                    //funct def
                    addExclamation,
                    clearExclamations
                }  
            }
        }).mount('#app')

    </script>

</body>
</html>


